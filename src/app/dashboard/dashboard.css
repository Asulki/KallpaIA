/* ===== SOLO DASHBOARD (.kallpa-dashboard) ===== */
.kallpa-dashboard{
  /* Paleta STEM */
  --bg:#0B0F19;
  --glass: rgba(26,30,46,.85);
  --primary:#7C3AED;      /* morado primario */
  --blue:#3B82F6;         /* acento / hover */
  --green:#22C55E;
  --yellow:#EAB308;
  --pink:#EC4899;
  --text:#F9FAFB;
  --muted:#9CA3AF;

  --border: rgba(255,255,255,.12);
  --r-md:14px; --r-lg:18px;
  --t-fast:120ms; --t-med:180ms; --ease:cubic-bezier(.2,.8,.2,1);

  position:relative;
  min-height:100dvh;
  color:var(--text);
  background: var(--bg);
  font-family: ui-sans-serif, Inter, "Segoe UI", Roboto, system-ui, Arial;
  padding:18px;
}

/* Fondo estrellas + constelaciones */
.kallpa-dashboard .kd-space{
  position:fixed; inset:0; pointer-events:none; z-index:0;
}
.kallpa-dashboard .kd-space::before,
.kallpa-dashboard .kd-space::after{
  content:""; position:absolute; inset:0; opacity:.7;
  background-repeat:repeat;
}
.kallpa-dashboard .kd-space::before{
  background-image:
    radial-gradient(1px 1px at 10% 20%, #fff 55%, transparent 56%),
    radial-gradient(1px 1px at 30% 80%, #fff 55%, transparent 56%),
    radial-gradient(1px 1px at 60% 50%, #fff 55%, transparent 56%);
  animation: parallax 60s linear infinite;
}
.kallpa-dashboard .kd-space::after{
  background-image:
    radial-gradient(2px 2px at 20% 30%, #fff 60%, transparent 61%),
    radial-gradient(2px 2px at 75% 70%, #fff 60%, transparent 61%);
  animation: parallax 120s linear infinite, twinkle 3s ease-in-out infinite;
}
.kallpa-dashboard .kd-constellations{
  width:100%; height:100%; position:absolute; inset:0;
  animation: float 28s ease-in-out infinite alternate;
}
@keyframes parallax{ to{ background-position: 1000px 600px } }
@keyframes twinkle{ 0%,100%{opacity:.35} 50%{opacity:.9} }
@keyframes float{ from{ transform: translateY(-1%) } to{ transform: translateY(1%) } }

/* Elevar contenido sobre el fondo */
.kallpa-dashboard > *:not(.kd-space){ position:relative; z-index:1 }

/* Header */
.kallpa-dashboard .kd-header{
  display:grid; grid-template-columns: 220px 1fr; gap:16px; align-items:center; margin-bottom:16px;
}
.kallpa-dashboard .brand{ display:flex; align-items:center; gap:10px; color:var(--text) }
.kallpa-dashboard .brand .logo{
  width:32px; height:32px; border-radius:10px; display:grid; place-items:center;
  background: linear-gradient(135deg, var(--primary), var(--blue));
  box-shadow: 0 6px 18px rgba(124,58,237,.45);
}
.kallpa-dashboard .hello h2{ margin:0 0 2px 0; font-weight:800 }
.kallpa-dashboard .hello small{ color:var(--muted) }

/* Layout */
.kallpa-dashboard .kd-layout{ display:grid; grid-template-columns: 240px 1fr; gap:16px }

/* ===== Sidebar mejorado (AISLADO) ===== */
.kallpa-dashboard .kd-sidebar{
  --nav-h:44px;
  --nav-gap:6px;
  background: var(--glass);
  border:1px solid var(--border);
  border-radius:18px;
  padding:12px;
}

/* Contenedor de items */
.kallpa-dashboard .kd-sidebar nav{
  display:grid; gap:var(--nav-gap);
}

/* Ítems con icono + label */
.kallpa-dashboard .kd-sidebar .nav-item,
.kallpa-dashboard .kd-sidebar a{
  /* si ya usas <a>, se aplica igual */
  display:flex; align-items:center; gap:12px;
  height:var(--nav-h); padding:0 12px;
  border-radius:999px;
  color:var(--muted); text-decoration:none;
  position:relative; isolation:isolate;
  transition: background 180ms var(--ease), color 180ms var(--ease), transform 120ms;
}

/* Icono normalizado (SVG o IMG) */
.kallpa-dashboard .kd-sidebar .nav-icn{
  width:18px; height:18px; display:grid; place-items:center;
  color:currentColor; opacity:.95; flex:0 0 18px;
}
.kallpa-dashboard .kd-sidebar .nav-icn svg{ width:18px; height:18px; display:block }
.kallpa-dashboard .kd-sidebar .nav-icn img{ width:18px; height:18px; object-fit:contain; filter: grayscale(10%) }

/* Hover */
.kallpa-dashboard .kd-sidebar a:hover{
  background: rgba(255,255,255,.06);
  color:var(--text);
}

/* Active (pill limpio, sin “nodo raro”) */
.kallpa-dashboard .kd-sidebar a.active{
  color:#0B0F19;
  background: linear-gradient(135deg, var(--primary), #9A6BFF);
  box-shadow: 0 10px 22px rgba(124,58,237,.35);
  border:1px solid rgba(255,255,255,.12);
}
.kallpa-dashboard .kd-sidebar a.active .nav-icn{
  color:#0B0F19;
  filter: drop-shadow(0 0 6px rgba(0,0,0,.15));
}

/* Indicador sutil (puntito) SOLO en hover/focus, no permanente */
.kallpa-dashboard .kd-sidebar a::before{
  content:""; position:absolute; left:10px; top:50%; transform:translateY(-50%);
  width:6px; height:6px; border-radius:50%; background:transparent;
  transition: background 160ms;
}
.kallpa-dashboard .kd-sidebar a:hover::before{ background: var(--blue) }
.kallpa-dashboard .kd-sidebar a.active::before{ background: transparent } /* quita el “nodo feo” */

/* Focus accesible */
.kallpa-dashboard .kd-sidebar a:focus-visible{
  outline:2px solid var(--blue); outline-offset:2px;
}

/* “comics digitales” como etiqueta discreta */
.kallpa-dashboard .kd-sidebar .extra{
  margin:12px 2px 0;
  color:var(--text);
  font-weight:600;
  padding:8px 10px;
  border-radius:12px;
  background: rgba(255,255,255,.04);
  border:1px solid var(--border);
}


/* Main */
.kallpa-dashboard .kd-main{ display:grid; gap:16px }

/* Tarjeta Planeta (borde dorado como en la captura) */
.kallpa-dashboard .planet-card{
  background: var(--glass);
  border-radius: 20px;
  border:1px solid rgba(234,179,8,.65);            /* #EAB308 */
  box-shadow: 0 30px 80px rgba(0,0,0,.5);
  padding: 18px;
}
.kallpa-dashboard .planet-head .tag{
  color: var(--yellow); font-weight:800; letter-spacing:.4px; font-size:12px;
}
.kallpa-dashboard .planet-head h3{ margin:4px 0 12px 0; font-size:24px; font-weight:800 }

/* HP */
.kallpa-dashboard .hp-top{
  display:flex; align-items:center; justify-content:space-between; color:var(--muted); margin-bottom:8px;
}
.kallpa-dashboard .hp-bar{
  position:relative; height:10px; border-radius:999px; overflow:hidden;
  background: rgba(255,255,255,.06); border:1px solid var(--border);
}
.kallpa-dashboard .hp-fill{
  height:100%;
  background: linear-gradient(90deg, var(--primary), var(--blue));
  animation: fillglow 6s ease-in-out infinite;
}
.kallpa-dashboard .hp-bar .spark{
  position:absolute; top:-6px; left:0; width:6px; height:6px; border-radius:50%;
  background:#fff; filter: drop-shadow(0 0 6px #fff);
  animation: spark 3.6s ease-in-out infinite;
}
@keyframes spark{ 0%{left:0} 50%{left:50%} 100%{left:100%} }
@keyframes fillglow{ 0%,100%{filter:brightness(1)} 50%{filter:brightness(1.1)} }

/* Pills */
.kallpa-dashboard .skills{ margin-top:12px; display:flex; gap:10px; flex-wrap:wrap }
.kallpa-dashboard .pill{
  border:1px solid var(--border); border-radius:999px; padding:8px 12px;
  color:var(--text); background: rgba(255,255,255,.03);
  transition: transform var(--t-fast) var(--ease), box-shadow var(--t-med);
}
.kallpa-dashboard .pill:hover{
  transform: translateY(-1px);
  box-shadow: 0 0 14px rgba(236,72,153,.35); /* halo rosa suave */
}

/* Burbuja “Videojuegos vocacionales” */
.kallpa-dashboard .hero-bubble{
  align-self:center;
  width:max-content;
  background:#B7D5F3; color:#0B0F19;
  border-radius:999px; padding:12px 24px; font-weight:800; font-size:20px;
  box-shadow: inset 0 -2px 0 rgba(0,0,0,.15), 0 8px 24px rgba(0,0,0,.35);
  animation: bob 6s ease-in-out infinite;
}
@keyframes bob{ 0%,100%{ transform: translateY(0)} 50%{ transform: translateY(-4px)} }

/* Responsive */
/* Compacto en sidebars estrechos (opcional) */
@media (max-width: 980px){
  .kallpa-dashboard .kd-layout{ grid-template-columns: 86px 1fr }
  .kallpa-dashboard .kd-sidebar a{ justify-content:center; gap:8px; padding:0 8px }
  .kallpa-dashboard .kd-sidebar a span.label{ display:none } /* deja solo iconos */
}

@media (max-width: 960px){
  .kallpa-dashboard .kd-layout{ grid-template-columns: 86px 1fr }
  .kallpa-dashboard .kd-sidebar a{ border-radius:12px }
}
@media (prefers-reduced-motion: reduce){
  .kallpa-dashboard *{ animation: none !important; transition: none !important }
}
